<nav class="bg-blue-800 text-white shadow-lg sticky top-0 z-50">
  <div class="container mx-auto px-4 flex justify-between items-center py-4">
    <div class="flex items-center space-x-2">
      <i class="fas fa-graduation-cap text-2xl"></i>
      <a href="{% url 'announcements:index' %}" class="text-2xl font-bold"
        >UniPortal</a
      >
    </div>

    <div class="hidden md:flex items-center space-x-6">
      <a href="{% url 'announcements:index' %}" class="hover:text-blue-200"
        >Home</a
      >

      {% if user.is_authenticated %} {% if user.role == 'admin' %}
      <a
        href="{% url 'administration:admin_dashboard' %}"
        class="hover:text-blue-200"
        >Dashboard</a
      >
      <div class="relative group">
        <button class="hover:text-blue-200 flex items-center">
          Manage <i class="fas fa-chevron-down ml-1"></i>
        </button>
        <div
          class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
        >
          <a
            href="{% url 'projects:admin_project_list' %}"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
            >Manage Projects</a
          >
          <a
            href="{% url 'announcements:new' %}"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
            >New Announcement</a
          >
          <a
            href="{% url 'administration:students_list' %}"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
            >View Students</a
          >
        </div>
      </div>
      {% elif user.role == 'student' %}
      <a href="{% url 'projects:project_list' %}" class="hover:text-blue-200"
        >Projects</a
      >
      <a
        href="{% url 'projects:student_wishlist' %}"
        class="hover:text-blue-200"
      >
        <i class="fas fa-heart mr-1"></i>My Wishlist
      </a>
      {% endif %}

      <div class="relative group">
        <button class="hover:text-blue-200 flex items-center">
          {{ user.first_name|default:user.username }}
          <i class="fas fa-chevron-down ml-1"></i>
        </button>
        <div
          class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
        >
          <div class="px-4 py-2 text-sm text-gray-500 border-b">
            {{ user.role|title }}
          </div>
          <a
            href="{% url 'authentication:logout' %}"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
          >
            <i class="fas fa-sign-out-alt mr-2"></i>Logout
          </a>
        </div>
      </div>
      {% else %}
      <a
        href="{% url 'authentication:login' %}"
        class="bg-white text-blue-800 hover:bg-gray-100 px-4 py-2 rounded"
        >Login</a
      >
      {% endif %}
    </div>

    <div class="md:hidden">
      <button id="mobile-menu-button" class="text-white">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden pb-4">
    <a
      href="{% url 'announcements:index' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >Home</a
    >

    {% if user.is_authenticated %} {% if user.role == 'admin' %}
    <a
      href="{% url 'administration:admin_dashboard' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >Dashboard</a
    >
    <a
      href="{% url 'projects:admin_project_list' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >Manage Projects</a
    >
    <a
      href="{% url 'announcements:new' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >New Announcement</a
    >
    <a
      href="{% url 'administration:students_list' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >View Students</a
    >
    {% elif user.role == 'student' %}
    <a
      href="{% url 'projects:project_list' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >Projects</a
    >
    <a
      href="{% url 'projects:student_wishlist' %}"
      class="block py-2 px-4 hover:bg-blue-700 rounded"
      >My Wishlist</a
    >
    {% endif %}
    <a
      href="{% url 'authentication:logout' %}"
      class="block py-2 px-4 bg-blue-700 hover:bg-blue-600 rounded text-center"
      >Logout</a
    >
    {% else %}
    <a
      href="{% url 'authentication:login' %}"
      class="block py-2 px-4 bg-blue-700 hover:bg-blue-600 rounded text-center"
      >Login</a
    >
    {% endif %}
  </div>
</nav>
